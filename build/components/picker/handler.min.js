var Page;!function(n){var t,e,i,r;function a(t){var e=this;this.observers=[],this._value=null,this.id=t.id,this.container=t,this.leftButton=n.Helpers.Utils.selector(t,".picker-button.left"),this.rightButton=n.Helpers.Utils.selector(t,".picker-button.right"),this.spanElement=n.Helpers.Utils.selector(t,"span"),this.radioInputs=n.Helpers.Utils.selectorAll(t,"input"),this.leftButton.addEventListener("click",function(){var t=e.getIndexOfCheckedInput();e.checkOnlyRadio(t-1,e.radioInputs.length-1),e.updateValue(),r.storeState(e),e.callObservers()}),this.rightButton.addEventListener("click",function(){var t=e.getIndexOfCheckedInput();e.checkOnlyRadio(t+1,0),e.updateValue(),r.storeState(e),e.callObservers()}),this.updateValue()}t=n.Picker||(n.Picker={}),Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(t){for(var e=0,n=this.radioInputs;e<n.length;e++){var i=n[e];i.checked=i.value===t}this.updateValue()},enumerable:!1,configurable:!0}),a.prototype.callObservers=function(){for(var t=0,e=this.observers;t<e.length;t++)(0,e[t])(this.value)},a.prototype.getIndexOfCheckedInput=function(){return n.Helpers.Utils.findFirst(this.radioInputs,function(t){return t.checked})},a.prototype.updateValue=function(){var t=this.getIndexOfCheckedInput(),t=this.radioInputs[t];this._value=t?t.value:null,this.updateAppearance()},a.prototype.updateAppearance=function(){var t=this.getIndexOfCheckedInput(),t=this.radioInputs[t],t=t?t.dataset.label||"<no label>":this.container.dataset.placeholder||"",t=(this.spanElement.innerText=t,this.radioInputs[0]),e=this.radioInputs[this.radioInputs.length-1];t&&e?(this.enableButton(this.leftButton,!t.checked),this.enableButton(this.rightButton,!e.checked)):(this.enableButton(this.leftButton,!1),this.enableButton(this.rightButton,!1))},a.prototype.enableButton=function(t,e){t.disabled=!e},a.prototype.checkOnlyRadio=function(t,e){for(var n,i=0,r=this.radioInputs;i<r.length;i++)r[i].checked=!1;if(0<=t&&t<this.radioInputs.length?n=this.radioInputs[t]:0<=e&&e<this.radioInputs.length&&(n=this.radioInputs[e]),!n)throw new Error("No input to check: index=".concat(t," and defaultIndex=").concat(e,"."));n.checked=!0},e=a,i=new n.Helpers.Cache("Picker",function(){return n.Helpers.Utils.selectorAll(document,"div.inline-picker[id]").map(function(t){return new e(t)})}),r=new n.Helpers.Storage("picker",function(t){return null===t.value?"__null__":t.value},function(t,e){t=i.getByIdSafe(t);return!!t&&(t.value=e,t.callObservers(),!0)}),n.Helpers.Events.callAfterDOMLoaded(function(){i.load(),r.applyStoredState()}),t.addObserver=function(t,e){i.getById(t).observers.push(e)},t.getValue=function(t){return i.getById(t).value},t.setValue=function(t,e){i.getById(t).value=e},t.storeState=function(t){t=i.getById(t),r.storeState(t)},t.clearStoredState=function(t){t=i.getById(t),r.clearStoredState(t)}}(Page=Page||{});