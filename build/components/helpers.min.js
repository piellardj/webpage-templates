var Page;!function(e){!function(e){var t,n,o;function c(e){this.queryParameters={};var t=e.indexOf(c.queryDelimiter);if(t<0)this.baseUrl=e;else{this.baseUrl=e.substring(0,t);for(var r=0,a=e.substring(t+c.queryDelimiter.length).split(c.parameterDelimiter);r<a.length;r++){var n,o=a[r],i=o.split(c.keyValueDelimiter);2===i.length?(n=decodeURIComponent(i[0]),i=decodeURIComponent(i[1]),this.queryParameters[n]=i):console.log("Unable to parse query string parameter '"+o+"'.")}}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join(":")+":"}function s(e){window.history.replaceState("","",e)}function r(e,t){this.objectsName=e,this.loadObjectsFunction=t,this.cacheObject=null}t=e.URL||(e.URL={}),n="page",c.prototype.setQueryParameter=function(e,t){null===t?delete this.queryParameters[e]:this.queryParameters[e]=t},c.prototype.loopOnParameters=function(e,t){for(var r=0,a=Object.keys(this.queryParameters);r<a.length;r++){var n,o=a[r];0===o.indexOf(e)&&o.length>e.length&&(n=this.queryParameters[o],t(o.substring(e.length),n))}},c.prototype.buildUrl=function(){for(var e=[],t=0,r=Object.keys(this.queryParameters);t<r.length;t++){var a=r[t],n=this.queryParameters[a],a=encodeURIComponent(a),n=encodeURIComponent(n);e.push(a+c.keyValueDelimiter+n)}var o=e.join(c.parameterDelimiter);return o?this.baseUrl+c.queryDelimiter+o:this.baseUrl},c.queryDelimiter="?",c.parameterDelimiter="&",c.keyValueDelimiter="=",o=c,t.loopOnParameters=function(e,t){var r=new o(window.location.href),e=i(n,e);r.loopOnParameters(e,t)},t.setQueryParameter=function(e,t,r){var a=new o(window.location.href),e=i(n,e);a.setQueryParameter(e+t,r),s(a.buildUrl())},t.removeQueryParameter=function(e,t){var r=new o(window.location.href),e=i(n,e);r.setQueryParameter(e+t,null),s(r.buildUrl())},(e.Events||(e.Events={})).callAfterDOMLoaded=function(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},r.prototype.getById=function(e){var t=this.safeCacheObject[e];if(t)return t;throw new Error("Invalid '".concat(this.objectsName,"' cache object id '").concat(e,"'."))},r.prototype.getByIdSafe=function(e){return this.safeCacheObject[e]||null},r.prototype.load=function(){this.cacheObject||(this.cacheObject=this.loadCacheObject())},Object.defineProperty(r.prototype,"safeCacheObject",{get:function(){return this.cacheObject||this.load(),this.cacheObject},enumerable:!1,configurable:!0}),r.prototype.loadCacheObject=function(){for(var e={},t=0,r=this.loadObjectsFunction();t<r.length;t++){var a=r[t];if(void 0!==e[a.id])throw new Error("Object '".concat(a.id,"' is already in cache."));e[a.id]=a}return e},e.Cache=r}(e.Helpers||(e.Helpers={}))}(Page=Page||{});