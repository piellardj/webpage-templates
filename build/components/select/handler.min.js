var Page;!function(e){var t,s,n,i;function r(e){for(var a=this,t=(this.observers=[],this.id=e.id,this.containerElement=e,this.currentValueElement=e.querySelector(".select-current-value"),this.valuesListElement=e.querySelector(".select-values-list"),this.placeholder=this.valuesListElement.dataset.placeholder,this.currentValue=this.currentValueElement.dataset.value,this.valueElements=[],this.valuesListElement.querySelectorAll(".select-value[data-value]")),n=0;n<t.length;n++)this.valueElements.push(t[n]);this.containerElement.style.width="".concat(this.computeMinimumWidth(),"px"),document.addEventListener("click",function(e){var t=e.target;if(a.containerElement.classList.contains(r.EXPANDED_CLASS)){if(a.valuesListElement.contains(t))for(var n=0,l=a.valueElements;n<l.length;n++){var s=l[n];s.contains(t)&&(a.currentValue=s.dataset.value,a.currentValueElement.dataset.value=a.currentValue,a.currentValueElement.textContent=s.textContent,i.storeState(a),a.callObservers())}a.containerElement.classList.remove(r.EXPANDED_CLASS)}else a.currentValueElement.contains(t)&&a.containerElement.classList.add(r.EXPANDED_CLASS)})}t=e.Select||(e.Select={}),Object.defineProperty(r.prototype,"value",{get:function(){return this.currentValue||null},set:function(e){if(null===e)this.currentValueElement.removeAttribute("data-value"),this.currentValueElement.textContent=this.placeholder,this.currentValue=null;else{for(var t=0,n=this.valueElements;t<n.length;t++){var l=n[t],s=l.dataset.value;if(s===e)return this.currentValue=s,this.currentValueElement.dataset.value=s,void(this.currentValueElement.textContent=l.textContent)}console.log('No "'.concat(e,'" value for "').concat(this.id,'" select.'))}},enumerable:!1,configurable:!0}),r.prototype.callObservers=function(){for(var e=0,t=this.observers;e<t.length;e++)(0,t[e])(this.value)},r.prototype.computeMinimumWidth=function(){this.valuesListElement.style.opacity="0",this.valuesListElement.style.width="auto",this.valuesListElement.style.fontWeight="bold",this.valuesListElement.style.display="block";var e,t=document.createElement("div"),n=(t.classList.add("select-value"),t.textContent=this.placeholder,this.valuesListElement.appendChild(t),this.containerElement.parentNode),l=this.containerElement.nextSibling;n.removeChild(this.containerElement),document.body.appendChild(this.containerElement),e=this.valuesListElement.getBoundingClientRect().width,document.body.removeChild(this.containerElement),n.insertBefore(this.containerElement,l),this.valuesListElement.removeChild(t),this.valuesListElement.style.display="",this.valuesListElement.style.fontWeight="",this.valuesListElement.style.width="",this.valuesListElement.style.opacity="";return e+30},r.EXPANDED_CLASS="expanded",s=r,n=new e.Helpers.Cache("Select",function(){for(var e=[],t=document.querySelectorAll(".select-container[id]"),n=0;n<t.length;n++){var l=new s(t[n]);e.push(l)}return e}),i=new e.Helpers.Storage("select",function(e){return e.value},function(e,t){e=n.getByIdSafe(e);return!!e&&(e.value=t,e.callObservers(),!0)}),e.Helpers.Events.callAfterDOMLoaded(function(){n.load(),i.applyStoredState()}),t.addObserver=function(e,t){n.getById(e).observers.push(t)},t.getValue=function(e){return n.getById(e).value},t.setValue=function(e,t){n.getById(e).value=t},t.storeState=function(e){e=n.getById(e),i.storeState(e)},t.clearStoredState=function(e){e=n.getById(e),i.clearStoredState(e)}}(Page=Page||{});