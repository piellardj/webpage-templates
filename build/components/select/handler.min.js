var Page;!function(n){var e,a,t,l,s,r,i,u;function o(e){var r=this;this.observers=[],this.id=e.id,this.containerElement=e,this.currentValueElement=e.querySelector(".select-current-value"),this.valuesListElement=e.querySelector(".select-values-list"),this.placeholder=this.valuesListElement.dataset.placeholder,this.currentValue=this.currentValueElement.dataset.value,this.valueElements=[];for(var t=this.valuesListElement.querySelectorAll(".select-value[data-value]"),l=0;l<t.length;l++)this.valueElements.push(t[l]);this.containerElement.style.width="".concat(this.computeMinimumWidth(),"px"),document.addEventListener("click",function(e){var t=e.target;if(r.containerElement.classList.contains(o.EXPANDED_CLASS)){if(r.valuesListElement.contains(t))for(var l=0,n=r.valueElements;l<n.length;l++){var a=n[l];a.contains(t)&&(r.currentValue=a.dataset.value,r.currentValueElement.dataset.value=r.currentValue,r.currentValueElement.textContent=a.textContent,s.storeState(r),r.callObservers())}r.containerElement.classList.remove(o.EXPANDED_CLASS)}else r.currentValueElement.contains(t)&&r.containerElement.classList.add(o.EXPANDED_CLASS)})}e=n.Select||(n.Select={}),Object.defineProperty(o.prototype,"value",{get:function(){return this.currentValue||null},set:function(e){if(null===e)this.currentValueElement.removeAttribute("data-value"),this.currentValueElement.textContent=this.placeholder,this.currentValue=null;else{for(var t=0,l=this.valueElements;t<l.length;t++){var n=l[t],a=n.dataset.value;if(a===e)return this.currentValue=a,this.currentValueElement.dataset.value=a,void(this.currentValueElement.textContent=n.textContent)}console.log('No "'.concat(e,'" value for "').concat(this.id,'" select.'))}},enumerable:!1,configurable:!0}),o.prototype.callObservers=function(){for(var e=0,t=this.observers;e<t.length;e++)(0,t[e])(this.value)},o.prototype.computeMinimumWidth=function(){var e;this.valuesListElement.style.opacity="0",this.valuesListElement.style.width="auto",this.valuesListElement.style.fontWeight="bold",this.valuesListElement.style.display="block";var t=document.createElement("div");t.classList.add("select-value"),t.textContent=this.placeholder,this.valuesListElement.appendChild(t);var l=this.containerElement.parentNode,n=this.containerElement.nextSibling;l.removeChild(this.containerElement),document.body.appendChild(this.containerElement),e=this.valuesListElement.getBoundingClientRect().width,document.body.removeChild(this.containerElement),l.insertBefore(this.containerElement,n),this.valuesListElement.removeChild(t),this.valuesListElement.style.display="",this.valuesListElement.style.fontWeight="",this.valuesListElement.style.width="",this.valuesListElement.style.opacity="";return e+30},o.EXPANDED_CLASS="expanded",u=o,(t=a=a||{}).getSelectById=function(e){return t.load(),l[e]||null},t.load=function(){void 0===l&&(l=function(){for(var e={},t=document.querySelectorAll(".select-container[id]"),l=0;l<t.length;l++){var n=new u(t[l]);e[n.id]=n}return e}())},r=s=s||{},i="select",r.storeState=function(e){n.Helpers.URL.setQueryParameter(i,e.id,e.value)},r.clearStoredState=function(e){n.Helpers.URL.removeQueryParameter(i,e.id)},r.applyStoredState=function(){n.Helpers.URL.loopOnParameters(i,function(e,t){var l=a.getSelectById(e);l?(l.value=t,l.callObservers()):(console.log("Removing invalid query parameter '"+e+"="+t+"'."),n.Helpers.URL.removeQueryParameter(i,e))})},n.Helpers.Events.callAfterDOMLoaded(function(){a.load(),s.applyStoredState()}),e.addObserver=function(e,t){a.getSelectById(e).observers.push(t)},e.getValue=function(e){return a.getSelectById(e).value},e.setValue=function(e,t){a.getSelectById(e).value=t},e.storeState=function(e){e=a.getSelectById(e),s.storeState(e)},e.clearStoredState=function(e){e=a.getSelectById(e),s.clearStoredState(e)}}(Page=Page||{});