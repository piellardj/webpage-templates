var Page;!function(e){!function(t){var n,l,a=function(){function e(t){var n=this;this.observers=[],this.id=t.id,this.containerElement=t,this.currentValueElement=t.querySelector(".select-current-value"),this.valuesListElement=t.querySelector(".select-values-list"),this.placeholder=this.valuesListElement.dataset.placeholder,this.currentValue=this.currentValueElement.dataset.value,this.valueElements=[];for(var a=this.valuesListElement.querySelectorAll(".select-value[data-value]"),r=0;r<a.length;r++)this.valueElements.push(a[r]);this.containerElement.style.width="".concat(this.computeMinimumWidth(),"px"),document.addEventListener("click",function(t){var a=t.target;if(n.containerElement.classList.contains(e.EXPANDED_CLASS)){if(n.valuesListElement.contains(a))for(var r=0,s=n.valueElements;r<s.length;r++){var i=s[r];i.contains(a)&&(n.currentValue=i.dataset.value,n.currentValueElement.dataset.value=n.currentValue,n.currentValueElement.textContent=i.textContent,l.storeState(n),n.callObservers())}n.containerElement.classList.remove(e.EXPANDED_CLASS)}else{n.currentValueElement.contains(a)&&n.containerElement.classList.add(e.EXPANDED_CLASS)}})}return Object.defineProperty(e.prototype,"value",{get:function(){return this.currentValue||null},set:function(e){if(null===e)this.currentValueElement.removeAttribute("data-value"),this.currentValueElement.textContent=this.placeholder,this.currentValue=null;else{for(var t=0,n=this.valueElements;t<n.length;t++){var l=n[t],a=l.dataset.value;if(a===e)return this.currentValue=a,this.currentValueElement.dataset.value=a,void(this.currentValueElement.textContent=l.textContent)}console.log('No "'.concat(e,'" value for "').concat(this.id,'" select.'))}},enumerable:!1,configurable:!0}),e.prototype.callObservers=function(){for(var e=0,t=this.observers;e<t.length;e++){(0,t[e])(this.value)}},e.prototype.computeMinimumWidth=function(){var e;this.valuesListElement.style.opacity="0",this.valuesListElement.style.width="auto",this.valuesListElement.style.fontWeight="bold",this.valuesListElement.style.display="block";var t=document.createElement("div");t.classList.add("select-value"),t.textContent=this.placeholder,this.valuesListElement.appendChild(t);var n=this.containerElement.parentNode,l=this.containerElement.nextSibling;n.removeChild(this.containerElement),document.body.appendChild(this.containerElement),e=this.valuesListElement.getBoundingClientRect().width,document.body.removeChild(this.containerElement),n.insertBefore(this.containerElement,l),this.valuesListElement.removeChild(t),this.valuesListElement.style.display="",this.valuesListElement.style.fontWeight="",this.valuesListElement.style.width="",this.valuesListElement.style.opacity="";return e+30},e.EXPANDED_CLASS="expanded",e}();!function(e){var t;e.getSelectById=function(n){return e.load(),t[n]||null},e.load=function(){void 0===t&&(t=function(){for(var e={},t=document.querySelectorAll(".select-container[id]"),n=0;n<t.length;n++){var l=new a(t[n]);e[l.id]=l}return e}())}}(n||(n={})),function(t){var l="select";t.storeState=function(t){e.Helpers.URL.setQueryParameter(l,t.id,t.value)},t.clearStoredState=function(t){e.Helpers.URL.removeQueryParameter(l,t.id)},t.applyStoredState=function(){e.Helpers.URL.loopOnParameters(l,function(t,a){var r=n.getSelectById(t);r?(r.value=a,r.callObservers()):(console.log("Removing invalid query parameter '"+t+"="+a+"'."),e.Helpers.URL.removeQueryParameter(l,t))})}}(l||(l={})),e.Helpers.Events.callAfterDOMLoaded(function(){n.load(),l.applyStoredState()}),t.addObserver=function(e,t){n.getSelectById(e).observers.push(t)},t.getValue=function(e){return n.getSelectById(e).value},t.setValue=function(e,t){n.getSelectById(e).value=t},t.storeState=function(e){var t=n.getSelectById(e);l.storeState(t)},t.clearStoredState=function(e){var t=n.getSelectById(e);l.clearStoredState(t)}}(e.Select||(e.Select={}))}(Page||(Page={}));