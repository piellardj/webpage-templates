var Page;!function(n){var e,s,t,r,o,a,l,i;function u(e){var t=this;this.observers=[],this.id=u.computeShortId(e.id),this.inputElements=[];for(var r=e.querySelectorAll("input"),a=0;a<r.length;a++)this.inputElements.push(r[a]),r[a].addEventListener("change",function(e){e.stopPropagation(),t.reloadValues(),o.storeState(t),t.callObservers()},!1);this.reloadValues()}e=n.Tabs||(n.Tabs={}),u.computeShortId=function(e){if(e.lastIndexOf(u.ID_SUFFIX)!=e.length-u.ID_SUFFIX.length)throw new Error("Invalid tabs container id: '"+e+"'.");return e.substring(0,e.length-u.ID_SUFFIX.length)},Object.defineProperty(u.prototype,"values",{get:function(){return this._values},set:function(e){for(var t=0,r=this.inputElements;t<r.length;t++){for(var a=r[t],n=!1,s=0,o=e;s<o.length;s++){var l=o[s];if(a.value===l){n=!0;break}}a.checked=n}this.reloadValues()},enumerable:!1,configurable:!0}),u.prototype.callObservers=function(){for(var e=0,t=this.observers;e<t.length;e++)(0,t[e])(this._values)},u.prototype.reloadValues=function(){for(var e=[],t=0,r=this.inputElements;t<r.length;t++){var a=r[t];a.checked&&e.push(a.value)}this._values=e},u.ID_SUFFIX="-id",i=u,(t=s=s||{}).getTabsById=function(e){return t.load(),r[e]||null},t.load=function(){void 0===r&&(r=function(){for(var e={},t=document.querySelectorAll("div.tabs[id]"),r=0;r<t.length;r++){var a=new i(t[r]);e[a.id]=a}return e}())},a=o=o||{},l="tabs",a.storeState=function(e){var t=e.values.join(";");n.Helpers.URL.setQueryParameter(l,e.id,t)},a.clearStoredState=function(e){n.Helpers.URL.removeQueryParameter(l,e.id)},a.applyStoredState=function(){n.Helpers.URL.loopOnParameters(l,function(e,t){var r=t.split(";"),a=s.getTabsById(e);a?(a.values=r,a.callObservers()):(console.log("Removing invalid query parameter '"+e+"="+t+"'."),n.Helpers.URL.removeQueryParameter(l,e))})},n.Helpers.Events.callAfterDOMLoaded(function(){s.load(),o.applyStoredState()}),e.addObserver=function(e,t){return!!(e=s.getTabsById(e))&&(e.observers.push(t),!0)},e.getValues=function(e){return s.getTabsById(e).values},e.setValues=function(e,t,r){void 0===r&&(r=!1),(e=s.getTabsById(e)).values=t,r&&o.storeState(e)},e.storeState=function(e){e=s.getTabsById(e),o.storeState(e)},e.clearStoredState=function(e){e=s.getTabsById(e),o.clearStoredState(e)}}(Page=Page||{});