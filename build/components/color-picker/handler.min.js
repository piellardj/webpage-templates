var Page;!function(e){!function(e){function t(e,t,n){return Math.max(t,Math.max(t,e))}function n(e,n,r){return t(Math.round(e),n)}var r,o;function i(e){return e.dataset.currentColor}function a(e){var t=e.querySelector(".color-preview"),n=e.querySelector(".color-value"),r=i(e);/^#[0-9a-fA-f]{6}$/.test(r)&&t&&n&&(t.style.background=r,n.textContent=r)}!function(e){function t(e){var t=e.toString(16).toUpperCase();return 2===t.length?t:"0"+t}e.hsvToRgb=function(e){var t,r=e.h/60,o=e.s*e.v,i=o*(1-Math.abs(r%2-1));t=r<=1?{r:o,g:i,b:0}:r<=2?{r:i,g:o,b:0}:r<=3?{r:0,g:o,b:i}:r<=4?{r:0,g:i,b:o}:r<=5?{r:i,g:0,b:o}:{r:o,g:0,b:i};var a=e.v-o;return t.r=n(255*(t.r+a),0),t.g=n(255*(t.g+a),0),t.b=n(255*(t.b+a),0),t},e.rgbToHsv=function(e){var t=e.r/255,r=e.g/255,o=e.b/255,i=Math.max(t,r,o),a=i-Math.min(t,r,o),l={h:0,s:0,v:i};return 0!==a&&(i===t?l.h=(r-o)/a%6*60:i===r?l.h=60*((o-t)/a+2):i===o&&(l.h=60*((t-r)/a+4))),0!==i&&(l.s=a/i),l.h=n(l.h,0),l},e.rgbToHex=function(e){return"#"+t(e.r)+t(e.g)+t(e.b)},e.hexToRgb=function(e){return{r:parseInt(e.substring(1,3),16),g:parseInt(e.substring(3,5),16),b:parseInt(e.substring(5,7),16)}}}(r||(r={})),function(e){var o,l=null,c=null,u=null,d=null,h=null,s=null,p=null,v=null,g=null,f=null,b={h:200,s:.75,v:.5};function m(e,t){function n(t,n){var r=e.getBoundingClientRect(),o=(t-r.left)/r.width,i=(n-r.top)/r.height;return{x:Math.max(0,Math.min(1,o)),y:Math.max(0,Math.min(1,i))}}var r=e.querySelector(".cursor"),o={x:0,y:0},i=!1;e.addEventListener("mousedown",function(e){if(i=!0,o.x=0,o.y=0,r&&e.target===r){var a=r.getBoundingClientRect();o.x=.5*a.width-(e.clientX-a.left),o.y=.5*a.height-(e.clientY-a.top),console.log(JSON.stringify(o))}else{var l=n(e.clientX,e.clientY);t(l)}}),window.addEventListener("mouseup",function(){i=!1}),window.addEventListener("mousemove",function(e){if(i){var r=n(e.clientX+o.x,e.clientY+o.y);t(r)}});var a=[];e.addEventListener("touchstart",function(e){i=!0;for(var r=0===a.length,o=0;o<e.changedTouches.length;++o){for(var l=e.changedTouches[o],c=!1,u=0,d=a;u<d.length;u++){var h=d[u];if(l.identifier===h){c=!0;break}}c||a.push(l.identifier)}if(r&&a.length>0){var s=n(e.changedTouches[0].clientX,e.changedTouches[0].clientY);t(s)}},!1),window.addEventListener("touchend",function(e){for(var t=a.length>0,n=0;n<e.changedTouches.length;++n)for(var r=e.changedTouches[n],o=0;o<a.length;++o)r.identifier===a[o]&&(a.splice(o,1),o--);t&&0===a.length&&(i=!1)}),window.addEventListener("touchmove",function(e){if(a.length>0&&i)for(var r=e.changedTouches,o=0;o<r.length;++o)for(var l=r[o],c=0,u=a;c<u.length;c++){var d=u[c];if(l.identifier===d){var h=n(l.clientX,l.clientY);return t(h),void e.preventDefault()}}},{passive:!1})}function x(e){return Math.round(100*e)+"%"}function y(){var e,t,n=r.hsvToRgb(b),i=r.rgbToHex(n),l="rgb("+n.r+", "+n.g+", "+n.b+")",c="hsl("+b.h+", 100%, 50%)";u.style.background="linear-gradient(to right, white, "+c+")",s.style.background=c,d.style.background=l,p.style.background=l,v.textContent=i,g.textContent=n.r+", "+n.g+", "+n.b,f.textContent=b.h+"Â°, "+x(b.s)+", "+x(b.v),s.style.left=x(b.h/360),d.style.left=x(b.s),d.style.top=x(1-b.v),o&&(t=i,(e=o).dataset.currentColor=t,a(e))}e.createPopup=function(e){o=e;var a=i(e),C=r.hexToRgb(a),w=r.rgbToHsv(C);b.h=w.h,b.v=w.v,b.s=w.s,null===l&&function(){function e(e,t){var n=document.createElement(e);return t&&(n.className=t.join(" ")),n}l=e("div",["popup","color-picker-popup"]),c=e("div",["block","picker","value-saturation-picker"]),u=e("span",["color-filter","outlined"]),c.appendChild(u);var r=e("span",["color-filter","outlined"]);r.style.background="linear-gradient(to top, black, rgba(0,0,0,0))",c.appendChild(r),d=e("span",["cursor"]),c.appendChild(d),l.appendChild(c),h=e("div",["block","picker","hue-picker"]);var o=e("span",["hue-bar"]);h.appendChild(o),s=e("span",["cursor"]),h.appendChild(s),l.appendChild(h);var i=e("div",["preview-block"]);(p=e("div",["preview-color","outlined"])).classList.add("block"),i.appendChild(p);{var a=document.createElement("div");function C(e){var t=document.createElement("div"),n=document.createElement("span");n.textContent=e+":",n.classList.add("preview-text-label");var r=document.createElement("span");return t.appendChild(n),t.appendChild(r),a.appendChild(t),r}a.classList.add("block"),v=C("hex"),g=C("rgb"),f=C("hsv"),i.appendChild(a)}l.appendChild(i),m(h,function(e){b.h=n(360*e.x,0),y()}),m(c,function(e){b.s=t(e.x,0),b.v=t(1-e.y,0),y(),d.style.left=x(e.x),d.style.top=x(e.y)});var w=!1;l.addEventListener("mousedown",function(){w=!0}),window.addEventListener("mouseup",function(e){!l.contains(e.target)&&l.parentElement&&!w&&l.parentElement.removeChild(l),w=!1})}(),y(),l.style.top="",l.style.left="",e.parentElement.appendChild(l),function(){if(l&&l.parentElement){var e=(document.querySelector(".controls-block")||document.body).getBoundingClientRect();l.style.maxWidth=e.width-32+"px",l.style.maxHeight=e.height-32+"px";var t=l.parentElement.getBoundingClientRect(),n=l.getBoundingClientRect(),r=Math.max(0,e.left+16-t.left),o=Math.min(0,e.left+e.width-16-(t.left+n.width)),i=Math.max(0,e.top+16-t.top),a=Math.min(0,e.top+e.height-16-(t.top+n.height));l.style.left=r+o+"px",l.style.top=i+a+"px"}}()}}(o||(o={}));var l={};window.addEventListener("load",function(){for(var e=document.querySelectorAll(".color-picker"),t=function(t){var n=e[t];n.id&&(l[n.id]=n),a(n),n.addEventListener("click",function(e){o.createPopup(n),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()})},n=0;n<e.length;n++)t(n)})}(e.ColorPicker||(e.ColorPicker={}))}(Page||(Page={}));