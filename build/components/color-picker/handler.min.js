var Page;!function(e){!function(e){function n(e,n,t){return Math.max(n,Math.max(n,e))}function t(e,t,r){return n(Math.round(e),t)}var r,o;function i(e){return e.dataset.currentColor}function a(e){var n=e.querySelector(".color-preview"),t=e.querySelector(".color-value"),r=i(e);/^#[0-9a-fA-f]{6}$/.test(r)&&n&&t&&(n.style.background=r,t.textContent=r)}!function(e){function n(e){var n=e.toString(16).toUpperCase();return 2===n.length?n:"0"+n}e.hsvToRgb=function(e){var n,r=e.h/60,o=e.s*e.v,i=o*(1-Math.abs(r%2-1));n=r<=1?{r:o,g:i,b:0}:r<=2?{r:i,g:o,b:0}:r<=3?{r:0,g:o,b:i}:r<=4?{r:0,g:i,b:o}:r<=5?{r:i,g:0,b:o}:{r:o,g:0,b:i};var a=e.v-o;return n.r=t(255*(n.r+a),0),n.g=t(255*(n.g+a),0),n.b=t(255*(n.b+a),0),n},e.rgbToHsv=function(e){var n=e.r/255,r=e.g/255,o=e.b/255,i=Math.max(n,r,o),a=i-Math.min(n,r,o),l={h:0,s:0,v:i};return 0!==a&&(i===n?l.h=(r-o)/a%6*60:i===r?l.h=60*((o-n)/a+2):i===o&&(l.h=60*((n-r)/a+4))),0!==i&&(l.s=a/i),l.h=t(l.h,0),l},e.rgbToHex=function(e){return"#"+n(e.r)+n(e.g)+n(e.b)},e.hexToRgb=function(e){return{r:parseInt(e.substring(1,3),16),g:parseInt(e.substring(3,5),16),b:parseInt(e.substring(5,7),16)}}}(r||(r={})),function(e){var o,l=null,c=null,u=null,d=null,s=null,h=null,v=null,p=null,g=null,f=null,b={h:200,s:.75,v:.5};function m(e,n){function t(n,t){var r=e.getBoundingClientRect(),o=(n-r.left)/r.width,i=(t-r.top)/r.height;return{x:Math.max(0,Math.min(1,o)),y:Math.max(0,Math.min(1,i))}}var r=e.querySelector(".cursor"),o={x:0,y:0},i=!1;e.addEventListener("mousedown",function(e){if(i=!0,o.x=0,o.y=0,r&&e.target===r){var a=r.getBoundingClientRect();o.x=.5*a.width-(e.clientX-a.left),o.y=.5*a.height-(e.clientY-a.top),console.log(JSON.stringify(o))}else{var l=t(e.clientX,e.clientY);n(l)}}),window.addEventListener("mouseup",function(){i=!1}),window.addEventListener("mousemove",function(e){if(i){var r=t(e.clientX+o.x,e.clientY+o.y);n(r)}});var a=[];e.addEventListener("touchstart",function(e){i=!0;for(var r=0===a.length,o=0;o<e.changedTouches.length;++o){for(var l=e.changedTouches[o],c=!1,u=0,d=a;u<d.length;u++){var s=d[u];if(l.identifier===s){c=!0;break}}c||a.push(l.identifier)}if(r&&a.length>0){var h=t(e.changedTouches[0].clientX,e.changedTouches[0].clientY);n(h)}},!1),window.addEventListener("touchend",function(e){for(var n=a.length>0,t=0;t<e.changedTouches.length;++t)for(var r=e.changedTouches[t],o=0;o<a.length;++o)r.identifier===a[o]&&(a.splice(o,1),o--);n&&0===a.length&&(i=!1)}),window.addEventListener("touchmove",function(e){if(a.length>0&&i)for(var r=e.changedTouches,o=0;o<r.length;++o)for(var l=r[o],c=0,u=a;c<u.length;c++){var d=u[c];if(l.identifier===d){var s=t(l.clientX,l.clientY);return n(s),void e.preventDefault()}}},{passive:!1})}function C(e){return Math.round(100*e)+"%"}function x(){var e,n,t=r.hsvToRgb(b),i=r.rgbToHex(t),l="rgb("+t.r+", "+t.g+", "+t.b+")",c="hsl("+b.h+", 100%, 50%)";u.style.background="linear-gradient(to right, white, "+c+")",h.style.background=c,d.style.background=l,v.style.background=l,p.textContent=i,g.textContent=t.r+", "+t.g+", "+t.b,f.textContent=b.h+"Â°, "+C(b.s)+", "+C(b.v),h.style.left=C(b.h/360),d.style.left=C(b.s),d.style.top=C(1-b.v),o&&(n=i,(e=o).dataset.currentColor=n,a(e))}e.createPopup=function(e){o=e;var a=i(e),y=r.hexToRgb(a),k=r.rgbToHsv(y);b.h=k.h,b.v=k.v,b.s=k.s,null===l&&function(){function e(e,n){var t=document.createElement(e);return n&&(t.className=n.join(" ")),t}l=e("div",["popup","color-picker-popup"]),c=e("div",["block","picker","value-saturation-picker"]),u=e("span",["color-filter","outlined"]),c.appendChild(u);var r=e("span",["color-filter","outlined"]);r.style.background="linear-gradient(to top, black, rgba(0,0,0,0))",c.appendChild(r),d=e("span",["cursor"]),c.appendChild(d),l.appendChild(c),s=e("div",["block","picker","hue-picker"]);var o=e("span",["hue-bar"]);s.appendChild(o),h=e("span",["cursor"]),s.appendChild(h),l.appendChild(s);var i=e("div",["preview-block"]);(v=e("div",["preview-color","outlined"])).classList.add("block"),i.appendChild(v);{var a=document.createElement("div");function y(e){var n=document.createElement("div"),t=document.createElement("span");t.textContent=e+":",t.classList.add("preview-text-label");var r=document.createElement("span");return n.appendChild(t),n.appendChild(r),a.appendChild(n),r}a.classList.add("block"),p=y("hex"),g=y("rgb"),f=y("hsv"),i.appendChild(a)}l.appendChild(i),m(s,function(e){b.h=t(360*e.x,0),x()}),m(c,function(e){b.s=n(e.x,0),b.v=n(1-e.y,0),x(),d.style.left=C(e.x),d.style.top=C(e.y)});var k=!1;l.addEventListener("mousedown",function(){k=!0}),window.addEventListener("mouseup",function(e){!l.contains(e.target)&&l.parentElement&&!k&&l.parentElement.removeChild(l),k=!1})}(),x(),e.parentElement.appendChild(l)}}(o||(o={}));var l={};window.addEventListener("load",function(){for(var e=document.querySelectorAll(".color-picker"),n=function(n){var t=e[n];t.id&&(l[t.id]=t),a(t),t.addEventListener("click",function(e){o.createPopup(t),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()})},t=0;t<e.length;t++)n(t)})}(e.ColorPicker||(e.ColorPicker={}))}(Page||(Page={}));