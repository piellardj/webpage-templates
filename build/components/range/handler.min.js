var Page;!function(p){!function(e){var r,t,n,a,i,o,s=(Object.defineProperty(l.prototype,"value",{get:function(){return this._value},set:function(e){this.inputElement.value=""+e,this.reloadValue()},enumerable:!1,configurable:!0}),l.prototype.callObservers=function(){this.callSpecificObservers(this.onInputObservers),this.callSpecificObservers(this.onChangeObservers)},l.prototype.callSpecificObservers=function(e){for(var t=0,n=e;t<n.length;t++)(0,n[t])(this.value)},l.prototype.updateAppearance=function(){var e=(+this.inputElement.value-+this.inputElement.min)/(+this.inputElement.max-+this.inputElement.min),e=Math.max(0,Math.min(1,e));this.progressLeftElement.style.width=100*e+"%",e=this.nbDecimalsToDisplay<0?this.inputElement.value:(+this.inputElement.value).toFixed(this.nbDecimalsToDisplay),this.tooltipElement.textContent=e},l.prototype.reloadValue=function(){this._value=+this.inputElement.value,this.updateAppearance()},l.getMaxNbDecimals=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=-1,r=0,a=e;r<a.length;r++){var i=a[r],o=l.nbDecimals(i);if(i<0)return-1;n<o&&(n=o)}return n},l.nbDecimals=function(e){e=e.toString();return/^[0-9]+$/.test(e)?0:/^[0-9]+\.[0-9]+$/.test(e)?e.length-(e.indexOf(".")+1):-1},l);function l(e){var t=this;this.onInputObservers=[],this.onChangeObservers=[],this.inputElement=e.querySelector("input[type='range']"),this.progressLeftElement=e.querySelector(".range-progress-left"),this.tooltipElement=e.querySelector("output.range-tooltip"),this.id=this.inputElement.id;var n=+this.inputElement.min,r=+this.inputElement.max,e=+this.inputElement.step;this.nbDecimalsToDisplay=l.getMaxNbDecimals(n,r,e),this.inputElement.addEventListener("input",function(e){e.stopPropagation(),t.reloadValue(),t.callSpecificObservers(t.onInputObservers)}),this.inputElement.addEventListener("change",function(e){e.stopPropagation(),t.reloadValue(),a.storeState(t),t.callSpecificObservers(t.onChangeObservers)}),this.reloadValue()}(t=r=r||{}).getRangeById=function(e){return t.load(),n[e]||null},t.load=function(){void 0===n&&(n=function(){for(var e={},t=document.querySelectorAll(".range-container > input[type='range']"),n=0;n<t.length;n++){var r=t[n].parentElement;e[t[n].id]=new s(r)}return e}())},i=a=a||{},o="range",i.storeState=function(e){var t=""+e.value;p.Helpers.URL.setQueryParameter(o,e.id,t)},i.clearStoredState=function(e){p.Helpers.URL.removeQueryParameter(o,e.id)},i.applyStoredState=function(){p.Helpers.URL.loopOnParameters(o,function(e,t){var n=r.getRangeById(e);n?(n.value=+t,n.callObservers()):(console.log("Removing invalid query parameter '"+e+"="+t+"'."),p.Helpers.URL.removeQueryParameter(o,e))})},p.Helpers.Events.callAfterDOMLoaded(function(){r.load(),a.applyStoredState()});var u=!!window.MSInputMethodContext&&!!document.documentMode;e.addObserver=function(e,t){return!!(e=r.getRangeById(e))&&((u?e.onChangeObservers:e.onInputObservers).push(t),!0)},e.addLazyObserver=function(e,t){return!!(e=r.getRangeById(e))&&(e.onChangeObservers.push(t),!0)},e.getValue=function(e){return(e=r.getRangeById(e))?e.value:null},e.setValue=function(e,t){(e=r.getRangeById(e))&&(e.value=t)},e.storeState=function(e){e=r.getRangeById(e),a.storeState(e)},e.clearStoredState=function(e){e=r.getRangeById(e),a.clearStoredState(e)}}(p.Range||(p.Range={}))}(Page=Page||{});