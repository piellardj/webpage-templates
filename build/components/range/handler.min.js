var Page;!function(e){!function(t){var n,r,a=function(){function e(t){var n=this;this.onInputObservers=[],this.onChangeObservers=[],this.inputElement=t.querySelector("input[type='range']"),this.progressLeftElement=t.querySelector(".range-progress-left"),this.tooltipElement=t.querySelector("output.range-tooltip"),this.id=this.inputElement.id,this.nbDecimalsToDisplay=e.getMaxNbDecimals(+this.inputElement.min,+this.inputElement.max,+this.inputElement.step),this.inputElement.addEventListener("input",function(e){e.stopPropagation(),n.reloadValue(),n.callSpecificObservers(n.onInputObservers)}),this.inputElement.addEventListener("change",function(e){e.stopPropagation(),n.reloadValue(),r.storeState(n),n.callSpecificObservers(n.onChangeObservers)}),this.reloadValue()}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this.inputElement.value=""+e,this.reloadValue()},enumerable:!1,configurable:!0}),e.prototype.callObservers=function(){this.callSpecificObservers(this.onInputObservers),this.callSpecificObservers(this.onChangeObservers)},e.prototype.callSpecificObservers=function(e){for(var t=0,n=e;t<n.length;t++){(0,n[t])(this.value)}},e.prototype.updateAppearance=function(){var e,t=(+this.inputElement.value-+this.inputElement.min)/(+this.inputElement.max-+this.inputElement.min);t=Math.max(0,Math.min(1,t)),this.progressLeftElement.style.width=100*t+"%",e=this.nbDecimalsToDisplay<0?this.inputElement.value:(+this.inputElement.value).toFixed(this.nbDecimalsToDisplay),this.tooltipElement.textContent=e},e.prototype.reloadValue=function(){this._value=+this.inputElement.value,this.updateAppearance()},e.getMaxNbDecimals=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=-1,a=0,i=t;a<i.length;a++){var o=i[a],s=e.nbDecimals(o);if(o<0)return-1;r<s&&(r=s)}return r},e.nbDecimals=function(e){var t=e.toString();return/^[0-9]+$/.test(t)?0:/^[0-9]+\.[0-9]+$/.test(t)?t.length-(t.indexOf(".")+1):-1},e}();!function(e){var t;e.getRangeById=function(n){return e.load(),t[n]||null},e.load=function(){void 0===t&&(t=function(){for(var e={},t=document.querySelectorAll(".range-container > input[type='range']"),n=0;n<t.length;n++){var r=t[n].parentElement;e[t[n].id]=new a(r)}return e}())}}(n||(n={})),function(t){var r="range";t.storeState=function(t){var n=""+t.value;e.Helpers.URL.setQueryParameter(r,t.id,n)},t.clearStoredState=function(t){e.Helpers.URL.removeQueryParameter(r,t.id)},t.applyStoredState=function(){e.Helpers.URL.loopOnParameters(r,function(t,a){var i=n.getRangeById(t);i?(i.value=+a,i.callObservers()):(console.log("Removing invalid query parameter '"+t+"="+a+"'."),e.Helpers.URL.removeQueryParameter(r,t))})}}(r||(r={})),e.Helpers.Events.callAfterDOMLoaded(function(){n.load(),r.applyStoredState()});var i=!!window.MSInputMethodContext&&!!document.documentMode;t.addObserver=function(e,t){var r=n.getRangeById(e);return!!r&&(i?r.onChangeObservers.push(t):r.onInputObservers.push(t),!0)},t.addLazyObserver=function(e,t){var r=n.getRangeById(e);return!!r&&(r.onChangeObservers.push(t),!0)},t.getValue=function(e){var t=n.getRangeById(e);return t?t.value:null},t.setValue=function(e,t){var r=n.getRangeById(e);r&&(r.value=t)},t.storeState=function(e){var t=n.getRangeById(e);r.storeState(t)},t.clearStoredState=function(e){var t=n.getRangeById(e);r.clearStoredState(t)}}(e.Range||(e.Range={}))}(Page||(Page={}));