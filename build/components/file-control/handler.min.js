var Page;!function(t){var e,n,l,i,r;function a(e){var i=this;this.observers=[],this.inputElement=t.Helpers.Utils.selector(e,"input"),this.labelSpanElement=t.Helpers.Utils.selector(e,"label > span"),this.id=this.inputElement.id,this.inputElement.addEventListener("change",function(e){e.stopPropagation();var t=i.inputElement.files;if(t&&1===t.length){i.labelSpanElement.innerText=a.truncate(t[0].name);for(var n=0,l=i.observers;n<l.length;n++)(0,l[n])(t)}},!1)}e=t.FileControl||(t.FileControl={}),a.prototype.clear=function(){this.inputElement.value="",this.labelSpanElement.innerText=this.labelSpanElement.dataset.placeholder||"Upload"},a.truncate=function(e){return e.length>a.filenameMaxSize?e.substring(0,a.filenameMaxSize-1)+"..."+e.substring(e.length-(a.filenameMaxSize-1)):e},a.filenameMaxSize=16,n=a,l=function(e){var l=this;this.observers=[],this.buttonElement=t.Helpers.Utils.selector(e,"input"),this.id=this.buttonElement.id,this.buttonElement.addEventListener("click",function(e){e.stopPropagation();for(var t=0,n=l.observers;t<n.length;t++)(0,n[t])()},!1)},i=new t.Helpers.Cache("FileUpload",function(){return t.Helpers.Utils.selectorAll(document,".file-control.upload > input[id]").map(function(e){e=e.parentElement;return new n(e)})}),r=new t.Helpers.Cache("FileDownload",function(){return t.Helpers.Utils.selectorAll(document,".file-control.download > input[id]").map(function(e){e=e.parentElement;return new l(e)})}),t.Helpers.Events.callAfterDOMLoaded(function(){i.load(),i.load()}),e.addDownloadObserver=function(e,t){r.getById(e).observers.push(t)},e.addUploadObserver=function(e,t){i.getById(e).observers.push(t)},e.clearFileUpload=function(e){i.getById(e).clear()}}(Page=Page||{});