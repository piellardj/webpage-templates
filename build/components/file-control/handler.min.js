var Page;!function(e){var n,r,t,l,o,i,a;function u(e){var r=this;this.observers=[],this.inputElement=e.querySelector("input"),this.labelSpanElement=e.querySelector("label > span"),this.inputElement.addEventListener("change",function(e){e.stopPropagation();var n=r.inputElement.files;if(1===n.length){r.labelSpanElement.innerText=u.truncate(n[0].name);for(var t=0,l=r.observers;t<l.length;t++)(0,l[t])(n)}},!1)}n=e.FileControl||(e.FileControl={}),u.prototype.clear=function(){this.inputElement.value="",this.labelSpanElement.innerText=this.labelSpanElement.dataset.placeholder},u.truncate=function(e){return e.length>u.filenameMaxSize?e.substring(0,u.filenameMaxSize-1)+"..."+e.substring(e.length-(u.filenameMaxSize-1)):e},u.filenameMaxSize=16,r=u,a=function(e){var l=this;this.observers=[],this.buttonElement=e.querySelector("input"),this.buttonElement.addEventListener("click",function(e){e.stopPropagation();for(var n=0,t=l.observers;n<t.length;n++)(0,t[n])()},!1)},(l=t=t||{}).getFileUploadById=function(e){return l.load(),o[e]||null},l.getFileDownloadById=function(e){return l.load(),i[e]||null},l.load=function(){void 0===o&&(o=function(){for(var e={},n=document.querySelectorAll(".file-control.upload > input[id]"),t=0;t<n.length;t++){var l=n[t].parentElement;e[n[t].id]=new r(l)}return e}()),void 0===i&&(i=function(){for(var e={},n=document.querySelectorAll(".file-control.download > input[id]"),t=0;t<n.length;t++){var l=n[t].parentElement;e[n[t].id]=new a(l)}return e}())},e.Helpers.Events.callAfterDOMLoaded(function(){t.load()}),n.addDownloadObserver=function(e,n){return!!(e=t.getFileDownloadById(e))&&(e.observers.push(n),!0)},n.addUploadObserver=function(e,n){return!!(e=t.getFileUploadById(e))&&(e.observers.push(n),!0)},n.clearFileUpload=function(e){t.getFileUploadById(e).clear()}}(Page=Page||{});