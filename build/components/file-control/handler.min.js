var Page;!function(e){var t,r,i,n,l;function a(e){var r=this;this.observers=[],this.inputElement=e.querySelector("input"),this.labelSpanElement=e.querySelector("label > span"),this.id=this.inputElement.id,this.inputElement.addEventListener("change",function(e){e.stopPropagation();var t=r.inputElement.files;if(1===t.length){r.labelSpanElement.innerText=a.truncate(t[0].name);for(var n=0,l=r.observers;n<l.length;n++)(0,l[n])(t)}},!1)}t=e.FileControl||(e.FileControl={}),a.prototype.clear=function(){this.inputElement.value="",this.labelSpanElement.innerText=this.labelSpanElement.dataset.placeholder},a.truncate=function(e){return e.length>a.filenameMaxSize?e.substring(0,a.filenameMaxSize-1)+"..."+e.substring(e.length-(a.filenameMaxSize-1)):e},a.filenameMaxSize=16,r=a,i=function(e){var l=this;this.observers=[],this.buttonElement=e.querySelector("input"),this.id=this.buttonElement.id,this.buttonElement.addEventListener("click",function(e){e.stopPropagation();for(var t=0,n=l.observers;t<n.length;t++)(0,n[t])()},!1)},n=new e.Helpers.Cache("FileUpload",function(){for(var e=[],t=document.querySelectorAll(".file-control.upload > input[id]"),n=0;n<t.length;n++){var l=t[n].parentElement,l=new r(l);e.push(l)}return e}),l=new e.Helpers.Cache("FileDownload",function(){for(var e=[],t=document.querySelectorAll(".file-control.download > input[id]"),n=0;n<t.length;n++){var l=t[n].parentElement,l=new i(l);e.push(l)}return e}),e.Helpers.Events.callAfterDOMLoaded(function(){n.load(),n.load()}),t.addDownloadObserver=function(e,t){l.getById(e).observers.push(t)},t.addUploadObserver=function(e,t){n.getById(e).observers.push(t)},t.clearFileUpload=function(e){n.getById(e).clear()}}(Page=Page||{});