var Page;!function(e){!function(n){var t,l=function(){function e(n){var t=this;this.observers=[],this.inputElement=n.querySelector("input"),this.labelSpanElement=n.querySelector("label > span"),this.inputElement.addEventListener("change",function(n){n.stopPropagation();var l=t.inputElement.files;if(1===l.length){t.labelSpanElement.innerText=e.truncate(l[0].name);for(var r=0,o=t.observers;r<o.length;r++){(0,o[r])(l)}}},!1)}return e.prototype.clear=function(){this.inputElement.value="",this.labelSpanElement.innerText=this.labelSpanElement.dataset.placeholder},e.truncate=function(n){return n.length>e.filenameMaxSize?n.substring(0,e.filenameMaxSize-1)+"..."+n.substring(n.length-(e.filenameMaxSize-1)):n},e.filenameMaxSize=16,e}(),r=function(){return function(e){var n=this;this.observers=[],this.buttonElement=e.querySelector("input"),this.buttonElement.addEventListener("click",function(e){e.stopPropagation();for(var t=0,l=n.observers;t<l.length;t++)(0,l[t])()},!1)}}();!function(e){var n,t;e.getFileUploadById=function(t){return e.load(),n[t]||null},e.getFileDownloadById=function(n){return e.load(),t[n]||null},e.load=function(){void 0===n&&(n=function(){for(var e={},n=document.querySelectorAll(".file-control.upload > input[id]"),t=0;t<n.length;t++){var r=n[t].parentElement;e[n[t].id]=new l(r)}return e}()),void 0===t&&(t=function(){for(var e={},n=document.querySelectorAll(".file-control.download > input[id]"),t=0;t<n.length;t++){var l=n[t].parentElement;e[n[t].id]=new r(l)}return e}())}}(t||(t={})),e.Helpers.Events.callAfterDOMLoaded(function(){t.load()}),n.addDownloadObserver=function(e,n){var l=t.getFileDownloadById(e);return!!l&&(l.observers.push(n),!0)},n.addUploadObserver=function(e,n){var l=t.getFileUploadById(e);return!!l&&(l.observers.push(n),!0)},n.clearFileUpload=function(e){t.getFileUploadById(e).clear()}}(e.FileControl||(e.FileControl={}))}(Page||(Page={}));